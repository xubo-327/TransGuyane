# 部署检查清单

按照以下清单逐步完成部署，每完成一项请打勾 ✅

## 📋 第一部分：MongoDB Atlas 配置

- [ ] 注册 MongoDB Atlas 账号
- [ ] 创建免费集群（M0）
- [ ] 配置数据库用户（用户名、密码）
- [ ] 配置网络访问（允许所有IP 0.0.0.0/0）
- [ ] 获取连接字符串并添加数据库名 `transguyane`
- [ ] 生成 JWT Secret（至少32字符）
- [ ] 保存连接字符串和 JWT Secret

## 🚀 第二部分：Vercel 后端部署

- [ ] 注册 Vercel 账号（使用GitHub账号登录）
- [ ] 将项目推送到 GitHub（如果还没有）
- [ ] 在 Vercel 中导入项目
- [ ] 配置项目设置（Root Directory: `backend`）
- [ ] 添加环境变量：
  - [ ] `MONGODB_URI` - MongoDB连接字符串
  - [ ] `JWT_SECRET` - JWT密钥
  - [ ] `NODE_ENV` - `production`
  - [ ] `FRONTEND_URL` - 先填 `https://您的用户名.github.io`（稍后更新）
- [ ] 部署项目
- [ ] 验证后端健康检查：`https://项目名.vercel.app/api/health`
- [ ] 复制并保存 Vercel 后端URL（格式：`https://项目名.vercel.app/api`）
- [ ] 创建管理员账号（通过Vercel CLI或本地运行）

## 🌐 第三部分：GitHub Pages 前端部署

- [ ] 创建 GitHub 仓库（如果还没有）
- [ ] 推送代码到 GitHub
- [ ] 配置 GitHub Pages（Source: GitHub Actions）
- [ ] 添加 GitHub Secret：`REACT_APP_API_URL`（值为Vercel后端URL）
- [ ] 检查 `frontend/package.json` 中的 `homepage` 字段
- [ ] 触发部署（推送代码或手动触发Actions）
- [ ] 验证前端部署：`https://用户名.github.io/TransGuyane`
- [ ] 更新 Vercel 中的 `FRONTEND_URL` 为实际前端地址
- [ ] 重新部署后端（自动或手动）

## ✅ 第四部分：验证

- [ ] 前端页面正常加载
- [ ] 后端健康检查返回正常
- [ ] 数据库连接正常（尝试登录）
- [ ] 用户注册功能正常
- [ ] 用户登录功能正常
- [ ] 订单创建功能正常
- [ ] 所有主要功能测试通过

## 🔧 配置信息记录

请记录以下重要信息：

**MongoDB Atlas**
- 连接字符串：`mongodb+srv://...`
- 数据库名：`transguyane`
- 用户名：`_____________`
- 密码：`_____________`

**Vercel**
- 项目名：`_____________`
- 后端URL：`https://_____________/api`
- JWT Secret：`_____________`

**GitHub**
- 用户名：`_____________`
- 仓库名：`TransGuyane`
- 前端URL：`https://_____________/TransGuyane`

**管理员账号**
- 用户名：`_____________`
- 密码：`_____________`

---

**提示**：
- 如果遇到问题，请参考 `完整部署方案-重新开始.md` 中的常见问题部分
- 确保所有密码和密钥都妥善保存
- 环境变量中的特殊字符需要URL编码
