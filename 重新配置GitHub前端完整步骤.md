# é‡æ–°é…ç½® GitHub å‰ç«¯å®Œæ•´æ­¥éª¤

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨é‡æ–°é…ç½® GitHub å‰ç«¯ï¼Œç¡®ä¿å‰ç«¯èƒ½å¤Ÿæ­£ç¡®è¿æ¥åˆ° Vercel åç«¯ APIã€‚

---

## ğŸ¯ ç¬¬ä¸€æ­¥ï¼šè·å– Vercel åç«¯ API URL

### 1.1 ç™»å½• Vercel

1. è®¿é—®ï¼šhttps://vercel.com
2. ä½¿ç”¨ GitHub è´¦å·ç™»å½•
3. è¿›å…¥æ‚¨çš„åç«¯é¡¹ç›®

### 1.2 è·å– Production URL

åœ¨ Vercel é¡¹ç›®é¡µé¢ï¼Œæ‰¾åˆ° **Production URL**ï¼Œä¾‹å¦‚ï¼š
```
https://trans-guyane.vercel.app
```

### 1.3 ç¡®å®šå®Œæ•´çš„ API URL

æ‚¨çš„å®Œæ•´ API URL åº”è¯¥æ˜¯ï¼š
```
https://trans-guyane.vercel.app/api
```

âš ï¸ **é‡è¦**ï¼š
- å¿…é¡»ä»¥ `/api` ç»“å°¾
- ç¡®ä¿ URL æ­£ç¡®ä¸”å¯ä»¥è®¿é—®

### 1.4 éªŒè¯åç«¯ API å¯ç”¨

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
https://trans-guyane.vercel.app/api/health
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "status": "ok",
  "message": "æœåŠ¡å™¨è¿è¡Œæ­£å¸¸"
}
```

å¦‚æœè¿”å›é”™è¯¯ï¼Œè¯·å…ˆè§£å†³åç«¯é—®é¢˜ã€‚

---

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šé…ç½® GitHub Secrets

### 2.1 è¿›å…¥ GitHub ä»“åº“è®¾ç½®

1. **è®¿é—®æ‚¨çš„ GitHub ä»“åº“**
   - æ‰“å¼€ï¼šhttps://github.com/xubo-327/TransGuyane
   - ç‚¹å‡» **Settings** æ ‡ç­¾ï¼ˆåœ¨ä»“åº“é¡¶éƒ¨å¯¼èˆªæ ï¼‰

2. **è¿›å…¥ Secrets è®¾ç½®**
   - åœ¨å·¦ä¾§èœå•æ‰¾åˆ° **Secrets and variables**
   - ç‚¹å‡»ä¸‹æ‹‰èœå•ï¼Œé€‰æ‹© **Actions**

3. **æŸ¥çœ‹ç°æœ‰ Secrets**
   - å¦‚æœå·²æœ‰ `REACT_APP_API_URL`ï¼Œå¯ä»¥ç‚¹å‡»ç¼–è¾‘
   - å¦‚æœæ²¡æœ‰ï¼Œç‚¹å‡» **New repository secret** åˆ›å»ºæ–°çš„

### 2.2 æ·»åŠ æˆ–æ›´æ–° REACT_APP_API_URL Secret

1. **ç‚¹å‡» "New repository secret"** æˆ–ç¼–è¾‘ç°æœ‰çš„

2. **é…ç½® Secret**
   - **Name**: `REACT_APP_API_URL`
   - **Secret**: ç²˜è´´æ‚¨çš„ Vercel API URL
     - ä¾‹å¦‚ï¼š`https://trans-guyane.vercel.app/api`
   - âš ï¸ **æ³¨æ„**ï¼š
     - å¿…é¡»åŒ…å« `https://` å‰ç¼€
     - å¿…é¡»ä»¥ `/api` ç»“å°¾
     - ä¸è¦æœ‰å°¾éƒ¨æ–œæ 

3. **ç‚¹å‡» "Add secret"** æˆ– "Update secret"

4. **éªŒè¯ Secret å·²æ·»åŠ **
   - åœ¨ Secrets åˆ—è¡¨ä¸­åº”è¯¥èƒ½çœ‹åˆ° `REACT_APP_API_URL`
   - âš ï¸ **æ³¨æ„**ï¼šå‡ºäºå®‰å…¨è€ƒè™‘ï¼ŒGitHub ä¸ä¼šæ˜¾ç¤º Secret çš„å€¼ï¼Œåªä¼šæ˜¾ç¤ºåç§°

---

## âœ… ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å‰ç«¯é…ç½®

### 3.1 æ£€æŸ¥ package.json

ç¡®ä¿ `frontend/package.json` ä¸­çš„ `homepage` é…ç½®æ­£ç¡®ï¼š

```json
{
  "homepage": "https://xubo-327.github.io/TransGuyane"
}
```

### 3.2 æ£€æŸ¥ GitHub Actions å·¥ä½œæµ

ç¡®ä¿ `frontend/.github/workflows/deploy.yml` ä¸­å­˜åœ¨ä»¥ä¸‹é…ç½®ï¼š

```yaml
- name: Build
  working-directory: ./frontend
  env:
    REACT_APP_API_URL: ${{ secrets.REACT_APP_API_URL || 'https://your-api-domain.com/api' }}
  run: npm run build
```

---

## ğŸš€ ç¬¬å››æ­¥ï¼šé‡æ–°éƒ¨ç½²å‰ç«¯

é…ç½® Secret åï¼Œéœ€è¦é‡æ–°è§¦å‘ GitHub Actions éƒ¨ç½²ã€‚

### æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è§¦å‘éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **è¿›å…¥ GitHub ä»“åº“**
   - è®¿é—®ï¼šhttps://github.com/xubo-327/TransGuyane

2. **è¿›å…¥ Actions æ ‡ç­¾**
   - ç‚¹å‡»é¡¶éƒ¨çš„ **Actions** æ ‡ç­¾

3. **æ‰¾åˆ°éƒ¨ç½²å·¥ä½œæµ**
   - åœ¨å·¦ä¾§èœå•æ‰¾åˆ° **"Deploy to GitHub Pages"** å·¥ä½œæµ
   - ç‚¹å‡»è¿›å…¥

4. **æ‰‹åŠ¨è¿è¡Œå·¥ä½œæµ**
   - ç‚¹å‡»å³ä¸Šè§’çš„ **"Run workflow"** æŒ‰é’®
   - é€‰æ‹©åˆ†æ”¯ï¼š**main**
   - ç‚¹å‡» **"Run workflow"** æŒ‰é’®ç¡®è®¤

5. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
   - ç‚¹å‡»è¿è¡Œè®°å½•æŸ¥çœ‹éƒ¨ç½²è¿›åº¦
   - é€šå¸¸éœ€è¦ 5-10 åˆ†é’Ÿ
   - ç­‰å¾…çŠ¶æ€å˜ä¸ºç»¿è‰²çš„ âœ…

### æ–¹æ³•äºŒï¼šæ¨é€ä»£ç è§¦å‘è‡ªåŠ¨éƒ¨ç½²

å¦‚æœæ‚¨æƒ³é€šè¿‡æ¨é€ä»£ç è§¦å‘ï¼š

```bash
# åˆ›å»ºä¸€ä¸ªç©ºæäº¤æ¥è§¦å‘éƒ¨ç½²
git add .
git commit --allow-empty -m "Trigger deployment: Update API URL configuration"
git push origin main
```

ç„¶åï¼š
1. è¿›å…¥ä»“åº“ â†’ **Actions** æ ‡ç­¾
2. æŸ¥çœ‹éƒ¨ç½²è¿›åº¦
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

---

## ğŸ§ª ç¬¬äº”æ­¥ï¼šéªŒè¯éƒ¨ç½²

### 5.1 æ£€æŸ¥éƒ¨ç½²çŠ¶æ€

1. **è¿›å…¥ GitHub Actions**
   - è®¿é—®ï¼šhttps://github.com/xubo-327/TransGuyane/actions
   - æŸ¥çœ‹æœ€æ–°çš„éƒ¨ç½²è®°å½•

2. **ç¡®è®¤éƒ¨ç½²æˆåŠŸ**
   - çŠ¶æ€åº”è¯¥æ˜¾ç¤ºç»¿è‰²çš„ âœ…
   - ç‚¹å‡»éƒ¨ç½²è®°å½•å¯ä»¥æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### 5.2 è®¿é—®å‰ç«¯ç½‘ç«™

1. **è®¿é—® GitHub Pages**
   ```
   https://xubo-327.github.io/TransGuyane
   ```

2. **æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - ç‚¹å‡» **Console** æ ‡ç­¾é¡µ
   - ç‚¹å‡» **Network** æ ‡ç­¾é¡µ

3. **æ£€æŸ¥é”™è¯¯**
   - **Console** ä¸­ä¸åº”è¯¥æœ‰çº¢è‰²é”™è¯¯
   - **Network** ä¸­ï¼ŒAPI è¯·æ±‚åº”è¯¥è¿”å› 200 çŠ¶æ€ç 
   - ä¸åº”è¯¥æœ‰ CORS é”™è¯¯

### 5.3 æµ‹è¯•åŠŸèƒ½

1. **æµ‹è¯•ç™»å½•åŠŸèƒ½**
   - å°è¯•ç™»å½•æˆ–æ³¨å†Œ
   - å¦‚æœæˆåŠŸï¼Œè¯´æ˜åç«¯è¿æ¥æ­£å¸¸

2. **æµ‹è¯•æ•°æ®åŠ è½½**
   - ç™»å½•åï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸åŠ è½½æ•°æ®
   - ä¸åº”è¯¥å†æ˜¾ç¤º"åŠ è½½æ•°æ®å¤±è´¥"

---

## ğŸ” éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®

### æ£€æŸ¥æ¸…å•

è¯·ç¡®è®¤ä»¥ä¸‹é…ç½®éƒ½å·²æ­£ç¡®è®¾ç½®ï¼š

- [ ] **1. Vercel åç«¯ API å¯è®¿é—®**
  - è®¿é—®ï¼š`https://trans-guyane.vercel.app/api/health`
  - è¿”å›ï¼š`{"status":"ok","message":"æœåŠ¡å™¨è¿è¡Œæ­£å¸¸"}`

- [ ] **2. GitHub Secrets å·²é…ç½®**
  - ä»“åº“ â†’ Settings â†’ Secrets and variables â†’ Actions
  - å·²æ·»åŠ  `REACT_APP_API_URL` Secret
  - å€¼ä¸ºï¼š`https://trans-guyane.vercel.app/api`

- [ ] **3. GitHub Actions éƒ¨ç½²æˆåŠŸ**
  - Actions æ ‡ç­¾é¡µä¸­ï¼Œæœ€æ–°éƒ¨ç½²çŠ¶æ€ä¸º âœ…
  - æ²¡æœ‰é”™è¯¯æˆ–è­¦å‘Š

- [ ] **4. å‰ç«¯ç½‘ç«™å¯æ­£å¸¸è®¿é—®**
  - è®¿é—®ï¼š`https://xubo-327.github.io/TransGuyane`
  - é¡µé¢æ­£å¸¸åŠ è½½
  - æµè§ˆå™¨æ§åˆ¶å°æ²¡æœ‰ CORS é”™è¯¯

- [ ] **5. API è¯·æ±‚æ­£å¸¸**
  - æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network æ ‡ç­¾
  - API è¯·æ±‚è¿”å› 200 çŠ¶æ€ç 
  - æ•°æ®èƒ½æ­£å¸¸åŠ è½½

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šSecret é…ç½®åä»ä½¿ç”¨æ—§ URL

**åŸå› **ï¼šSecret é…ç½®åæœªé‡æ–°éƒ¨ç½²ï¼Œå‰ç«¯ä»ä½¿ç”¨æ—§é…ç½®ã€‚

**è§£å†³æ–¹æ³•**ï¼š
1. æ‰‹åŠ¨è§¦å‘ GitHub Actions éƒ¨ç½²ï¼ˆæ¨èï¼‰
2. æˆ–æ¨é€ä¸€ä¸ªç©ºæäº¤è§¦å‘è‡ªåŠ¨éƒ¨ç½²

### é—®é¢˜ 2ï¼šéƒ¨ç½²å¤±è´¥

**å¯èƒ½åŸå› **ï¼š
- GitHub Actions é…ç½®é”™è¯¯
- æ„å»ºé”™è¯¯
- æƒé™é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š
1. æŸ¥çœ‹ Actions æ—¥å¿—ï¼Œæ‰¾åˆ°å…·ä½“é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥ `frontend/.github/workflows/deploy.yml` é…ç½®
3. ç¡®è®¤ GitHub Pages å·²å¯ç”¨ï¼ˆSettings â†’ Pages â†’ Source: GitHub Actionsï¼‰

### é—®é¢˜ 3ï¼šAPI è¯·æ±‚ä»å¤±è´¥

**å¯èƒ½åŸå› **ï¼š
- Secret å€¼é…ç½®é”™è¯¯
- API URL æ ¼å¼é”™è¯¯
- Vercel åç«¯æœªæ­£ç¡®é…ç½®

**è§£å†³æ–¹æ³•**ï¼š
1. ç¡®è®¤ Secret å€¼æ­£ç¡®ï¼ˆ`https://trans-guyane.vercel.app/api`ï¼‰
2. éªŒè¯ Vercel åç«¯å¯è®¿é—®
3. æ£€æŸ¥ Vercel ç¯å¢ƒå˜é‡ï¼ˆç‰¹åˆ«æ˜¯ `FRONTEND_URL`ï¼‰

---

## ğŸ“ é…ç½®æ‘˜è¦

### GitHub Secrets é…ç½®

**ä»“åº“**ï¼š`xubo-327/TransGuyane`

**Secret**ï¼š
```
Name: REACT_APP_API_URL
Value: https://trans-guyane.vercel.app/api
```

### Vercel ç¯å¢ƒå˜é‡é…ç½®

**é¡¹ç›®**ï¼šæ‚¨çš„åç«¯é¡¹ç›®

**ç¯å¢ƒå˜é‡ï¼ˆProductionï¼‰**ï¼š
```
MONGODB_URI=mongodb+srv://...
JWT_SECRET=æ‚¨çš„JWTå¯†é’¥
NODE_ENV=production
FRONTEND_URL=https://xubo-327.github.io/TransGuyane
```

---

## ğŸ’¡ é‡è¦æç¤º

1. **Secret é…ç½®åå¿…é¡»é‡æ–°éƒ¨ç½²**æ‰èƒ½ç”Ÿæ•ˆ
2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**åå†æµ‹è¯•ï¼ˆ`Ctrl+Shift+R`ï¼‰
3. **æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°**è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
4. **ç¡®ä¿ Vercel åç«¯å·²æ­£ç¡®é…ç½®**ï¼ŒåŒ…æ‹¬ç¯å¢ƒå˜é‡

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub Pages åŠ è½½å¤±è´¥æ•…éšœæ’é™¤](./GitHub%20Pages%20åŠ è½½å¤±è´¥æ•…éšœæ’é™¤.md)
- [Vercel åç«¯éƒ¨ç½²æŒ‡å—](./docs/deployment/VERCEL_DEPLOYMENT.md)
- [GitHub Pages éƒ¨ç½²æŒ‡å—](./docs/deployment/GITHUB_PAGES_DEPLOYMENT.md)

---

**æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤é…ç½®å®Œæˆåï¼Œæ‚¨çš„å‰ç«¯åº”è¯¥èƒ½å¤Ÿæ­£å¸¸è¿æ¥åˆ° Vercel åç«¯äº†ï¼** ğŸ‰
